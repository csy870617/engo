<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ENGO - 영어회화 학습 프로토타입</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- 외부 CSS -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <div class="logo">ENGO</div>
    <div class="menu">영어회화 학습 웹</div>
  </header>

  <main>
    <!-- HOME PAGE -->
    <section id="home-hero">
      <div class="card">
        <h1>“영어 회화의 시작, ENGO”</h1>
        <p class="home-sub">
          더 찾을 필요 없습니다.<br/>
          말하기에 필요한 핵심만 담았습니다.
        </p>
      </div>

    <div class="home-grid">
    <div class="home-tile" onclick="goTo('patterns')">
        <span class="label">패턴 학습</span>
        <span class="desc">핵심 표현을 덩어리로 익히기</span>
    </div>
    
    <div class="home-tile" onclick="goTo('conversations')">
        <span class="label">대화 학습</span>
        <span class="desc">실제 대화 속 표현 연습</span>
    </div>
    
    <div class="home-tile" onclick="goTo('puzzle')">
        <span class="label">문장 퍼즐</span>
        <span class="desc">한글 보고 영어 재조립</span>
    </div>
    
    <div class="home-tile" onclick="goTo('speaking')">
        <span class="label">말하기 연습</span>
        <span class="desc">직접 말해보는 스피킹 훈련</span>
    </div>

    <div class="home-tile" onclick="goTo('words')">
        <span class="label">단어 학습</span>
        <span class="desc">필수 단어 빠른 암기</span>
    </div>

    <div class="home-tile" onclick="goTo('idioms')">
        <span class="label">숙어/구동사 학습</span>
        <span class="desc">자연스러운 표현 익히기</span>
    </div>
    </div>


    <!-- PATTERN LIST PAGE -->
    <section id="page-patterns" class="hidden">
      <div class="card">
        <h2>패턴 학습</h2>
        <p class="subtext">
          실제로 많이 쓰이는 표현부터 차근차근 익혀보세요.
        </p>
      </div>

        <div class="card">
        

        <!-- 🔽 패턴용 "암기중만" 버튼 -->
        <div class="stats-row" style="margin-top: 8px; gap: 6px; flex-wrap: wrap;">
            <button
            class="chip"
            id="pattern-studying-btn"
            onclick="togglePatternStudying()"
            >
            완료제외
            </button>
        </div>

        <!-- 🔽 패턴 암기 진행률 -->
        <div class="progress-row">
        <div id="pattern-progress" class="progress-label">
            패턴 암기 0 / 0개
        </div>
        <div class="progress-bar">
            <div id="pattern-progress-bar" class="progress-inner"></div>
        </div>
        </div>

        </div>

        <div id="pattern-list" class="list"></div>

    </section>

    <!-- PATTERN DETAIL PAGE -->
    <section id="page-pattern-detail" class="hidden">
      <div class="page-title-row">
        <span class="back-link" onclick="goTo('patterns')">← 패턴 목록</span>
      </div>

        <div class="card">
        <h2 id="pattern-title">Pattern 제목</h2>
        <p id="pattern-desc" class="subtext">
            패턴 설명이 들어갑니다.
        </p>

        <!-- 🔽 패턴 암기 완료 체크 (상세 화면) -->
        <div class="toggle-row" style="margin-bottom: 8px;">
            <label>
            <input
                type="checkbox"
                id="pattern-memorized-checkbox"
                onchange="togglePatternMemorizedDetail()"
            />
            이 패턴 암기 완료
            </label>
        </div>

        <button class="btn small" onclick="playPatternExamples()">
            ▶ 예문 전체 읽어주기(TTS)
        </button>
        </div>


      <div class="card">
        <div class="section-header">예문</div>
        <div class="toggle-row">
          <label>
            <input type="checkbox" id="pattern-toggle-kr" checked onchange="renderPatternExamples()" />
            번역 보기
          </label>
          <span class="hint">실제 서비스에서는 오디오 파일 연결 가능</span>
        </div>
        <div id="pattern-examples"></div>

        <div class="button-row">
          <button class="btn small secondary" onclick="goTo('puzzle')">
            문장 퍼즐로 연습하기
          </button>
          <button class="btn small secondary" onclick="goTo('conversations')">
            관련 대화 보기
          </button>
        </div>
      </div>
    </section>

<section id="page-words" class="hidden">

  <div class="card">
    <h2>단어 학습</h2>
    <p class="subtext">
      자주 쓰이는 필수 단어를 레벨별로 암기해보세요.
    </p>

    <!-- 🔽 진행도 영역 -->
    <div class="section-header">단어 암기 진행률</div>
    <p id="word-progress" class="progress-label">
      현재 레벨 기준 암기 0 / 0개 (0%)
    </p>
    <div class="progress-bar">
      <div id="word-progress-bar" class="progress-bar-fill"></div>
    </div>
  </div>

  <div class="card">
    <!-- 🔽 레벨 버튼 -->
    <div class="level-button-row">
      <button
        class="btn tiny active"
        data-word-level-btn="0"
        onclick="setWordLevel(0)"
      >
        전체
      </button>
      <button
        class="btn tiny"
        data-word-level-btn="1"
        onclick="setWordLevel(1)"
      >
        L1
      </button>
      <button
        class="btn tiny"
        data-word-level-btn="2"
        onclick="setWordLevel(2)"
      >
        L2
      </button>
      <button
        class="btn tiny"
        data-word-level-btn="3"
        onclick="setWordLevel(3)"
      >
        L3
      </button>
      <button
        class="btn tiny"
        data-word-level-btn="4"
        onclick="setWordLevel(4)"
      >
        L4
      </button>
      <button
        class="btn tiny"
        data-word-level-btn="5"
        onclick="setWordLevel(5)"
      >
        L5
      </button>


      <!-- 🔽 미암기(암기중)만 보기 -->
      <button
        id="word-studying-btn"
        class="btn tiny secondary"
        onclick="toggleWordStudying()"
      >
        암기중만 보기
      </button>
    </div>

    <!-- 검색창 -->
    <input
      id="word-search"
      type="text"
      placeholder="단어 검색… (예: plan)"
      class="input"
      oninput="renderWordList()"
    />
  </div>

  <div id="word-list" class="list"></div>
</section>

<section id="page-word-detail" class="hidden">
  <div class="page-title-row">
    <span class="back-link" onclick="goTo('words')">← 단어 목록</span>
  </div>

  <div class="card">
    <h2 id="word-title">단어</h2>
    <p id="word-desc" class="subtext">
      단어 설명이 들어갑니다.
    </p>

    <div class="toggle-row">
      <label>
        <input
          type="checkbox"
          id="word-memorized-checkbox"
          onchange="toggleWordMemorizedDetail()"
        />
        암기 완료
      </label>
    </div>

    <button class="btn small" onclick="playWordExamples()">
      ▶ 예문 전체 읽어주기(TTS)
    </button>
  </div>

  <div class="card">
    <div class="section-header">예문</div>
    <div class="toggle-row">
      <label>
        <input
          type="checkbox"
          id="word-toggle-kr"
          checked
          onchange="renderWordExamples()"
        />
        번역 보기
      </label>
    </div>
    <div id="word-examples"></div>
  </div>
</section>

<!-- IDIOM LIST PAGE -->
<section id="page-idioms" class="hidden">
  <div class="card">
    <h2>숙어/구동사 학습</h2>
    <p class="subtext">
      자주 쓰이는 관용 표현, 구동사를 상황과 함께 외워보세요.
    </p>
  </div>

  <div class="card">

  <!-- 🔽 레벨 필터 버튼들 -->
  <div class="stats-row" style="margin-top: 8px; gap: 6px; flex-wrap: wrap;">
    <button class="chip" data-idiom-level-btn="0" onclick="setIdiomLevel(0)">전체</button>
    <button class="chip" data-idiom-level-btn="1" onclick="setIdiomLevel(1)">Lv.1</button>
    <button class="chip" data-idiom-level-btn="2" onclick="setIdiomLevel(2)">Lv.2</button>
    <button class="chip" data-idiom-level-btn="3" onclick="setIdiomLevel(3)">Lv.3</button>
    <button class="chip" data-idiom-level-btn="4" onclick="setIdiomLevel(4)">Lv.4</button>
    <button class="chip" data-idiom-level-btn="5" onclick="setIdiomLevel(5)">Lv.5</button>

    <!-- 🔽 미암기만 보기 토글 버튼 -->
    <button
      class="chip"
      id="idiom-studying-btn"
      onclick="toggleIdiomStudying()"
    >
      완료제외 
    </button>
  </div>

  <!-- 🔽 현재 선택된 레벨 기준 암기 현황 -->
  <div class="progress-row">
  <div id="idiom-progress" class="progress-label">
    현재 레벨 기준 암기 0 / 0개
  </div>
  <div class="progress-bar">
    <div id="idiom-progress-bar" class="progress-inner"></div>
  </div>
</div>

</div>


  <div id="idiom-list" class="list"></div>
</section>

    <!-- IDIOM DETAIL PAGE -->
    <section id="page-idiom-detail" class="hidden">
      <div class="page-title-row">
        <span class="back-link" onclick="goTo('idioms')">← 숙어 목록</span>
      </div>

        <div class="card">
        <h2 id="idiom-title">숙어</h2>
        <p id="idiom-desc" class="subtext">
            숙어 설명이 들어갑니다.
        </p>

        <!-- 🔽 암기 완료 체크(상세 화면) -->
        <div class="toggle-row" style="margin-bottom: 8px;">
            <label>
            <input
                type="checkbox"
                id="idiom-memorized-checkbox"
                onchange="toggleIdiomMemorizedDetail()"
            />
            이 숙어 암기 완료
            </label>
        </div>

        <button class="btn small" onclick="playIdiomExamples()">
            ▶ 예문 전체 읽어주기(TTS)
        </button>
        </div>

      <div class="card">
        <div class="section-header">예문</div>
        <div class="toggle-row">
          <label>
            <input type="checkbox" id="idiom-toggle-kr" checked onchange="renderIdiomExamples()" />
            번역 보기
          </label>
        </div>
        <div id="idiom-examples"></div>
      </div>
    </section>

    <!-- CONVERSATION LIST PAGE -->
    <section id="page-conversations" class="hidden">

      <div class="card">
        <h2>대화 학습</h2>
        <p class="subtext">
          짧고 자주 쓰이는 실제 대화를 통째로 익히는 영역입니다.
        </p>
      </div>

      <div class="card">
        <input
          id="conv-search"
          type="text"
          placeholder="상황 / 키워드 검색… (예: 일정)"
          class="input"
          oninput="renderConversationList()"
        />
      </div>

      <div id="conv-list" class="list"></div>
    </section>

    <!-- CONVERSATION DETAIL PAGE -->
    <section id="page-conv-detail" class="hidden">
      <div class="page-title-row">
        <span class="back-link" onclick="goTo('conversations')">← 대화 목록</span>
      </div>

      <div class="card">
        <h2 id="conv-title">대화 제목</h2>
        <button class="btn small" onclick="playConversationAll()">
          ▶ 대화 전체 읽어주기(TTS)
        </button>
      </div>

      <div class="card">
        <div class="toggle-row">
          <label>
            <input type="checkbox" id="conv-toggle-kr" checked onchange="renderConversationDetail()" />
            번역 보기
          </label>
        </div>

        <div id="conv-lines"></div>

        <div class="button-row">
          <button class="btn small secondary" onclick="goTo('shadowing')">
            따라 말하기 (Shadowing)
          </button>
          <button class="btn small secondary" onclick="goTo('puzzle')">
            이 대화로 퍼즐 풀기
          </button>
        </div>
      </div>
    </section>

    <!-- SHADOWING PAGE -->
    <section id="page-shadowing" class="hidden">
      <div class="page-title-row">
        <span class="back-link" onclick="goTo('conv-detail')">← 대화로 돌아가기</span>
      </div>

      <div class="card">
        <h2>따라 말하기 (Shadowing)</h2>
        <p class="subtext">
          문장을 듣고, 잠시 멈춘 뒤 그대로 따라 말하는 훈련입니다.
          (프로토타입에서는 TTS 재생까지만 구현)
        </p>
      </div>

      <div class="card">
        <div class="section-header">현재 문장</div>
        <p id="shadowing-text" class="shadowing-text">
          문장을 선택해주세요.
        </p>

        <div class="button-row">
          <button class="btn small" onclick="playShadowingCurrent()">
            ▶ 현재 문장 재생
          </button>
          <button class="btn small secondary" onclick="nextShadowing()">
            다음 문장
          </button>
        </div>

        <div class="hint">
          실제 구현에서는 이 구간에서 마이크로 따라 말하기/녹음/피드백을 연결.
        </div>
      </div>
    </section>

    <!-- PUZZLE PAGE -->
    <section id="page-puzzle" class="hidden">

      <div class="card">
        <h2>문장 퍼즐</h2>
        <p class="subtext">
          👉 한글 문장을 보고, 영어 단어 조각을 순서대로 배열해 문장을 완성해보세요.
        </p>
      </div>

      <div class="card">
        <div class="section-header">문제 (한글)</div>
        <p id="puzzle-question" class="puzzle-question">
          오늘 계획 있어?
        </p>

        <div class="section-header">조각 (영어)</div>
        <div id="puzzle-bank" class="puzzle-bank"></div>

        <div class="section-header">내가 만든 영어 문장</div>
        <div id="puzzle-target" class="puzzle-target"></div>

        <div class="button-row">
          <button class="btn small" onclick="checkPuzzle()">정답 확인</button>
          <button class="btn small secondary" onclick="resetPuzzle()">초기화</button>
        </div>

        <div id="puzzle-feedback" class="feedback"></div>
      </div>
    </section>

    <!-- SPEAKING PAGE -->
    <section id="page-speaking" class="hidden">

      <div class="card">
        <h2>말하기 연습 (Speaking)</h2>
        <p class="subtext">
          질문을 듣고, 머릿속에서 영어 문장을 만들어 직접 말해보는 영역입니다.
          (프로토타입에서는 질문 TTS만 구현)
        </p>
      </div>

      <div class="card">
        <div class="section-header">질문</div>
        <p id="speaking-question" class="speaking-question">
          What did you do yesterday?
        </p>
        <button class="btn small" onclick="speakText(document.getElementById('speaking-question').innerText)">
          ▶ 질문 듣기
        </button>

        <div class="hint">
          실제 서비스에선 이 아래에 녹음 버튼, AI 피드백(문법/발음/자연스러움),
          대체 표현 추천을 표시.
        </div>
      </div>
    </section>
  </main>

  <!-- 외부 JS -->
  <script src="pattern.js"></script>
  <script src="idiom.js"></script>
  <script src="word.js"></script>
  <script src="script.js" defer></script>
</body>
</html>
